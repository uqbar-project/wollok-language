/**
  * Scenario: a simple initialization class with well ordered variable declarations
  */
class A {
  var y = 0
  var property x = y + 1

  method m() = y + x
}

describe "lazy initialization for well-ordered declarations in class" {

  test "value of lazy attribute" {
    assert.equals(1, new A().x())
  }

  test "test sum of all attributes" {
    assert.equals(1, new A().m())
  }

  test "value of lazy attribute if initialized with named parameter" {
    assert.equals(5, new A(x = 5).x())
  }

}
